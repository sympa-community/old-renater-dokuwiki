==== Where are the archives located ? =====

In the past messages were stored both in the list directory (list_data/<robot>/list/arc) and in the directory specified by //arc_path// conf parameter. With version 5.x archives are stored only in //arc_path// dir and are used both for web and mail interface.

==== How are the archives organized? ====
After distribution, messages are pushed into the //outgoing// Sympa spool. Archived daemon picks them and calls //mhonarc// for HTML version and adds an SMTP text version (i.e. a ASCII file including headers and body) of them to the appropriate directory <arc_path>/<listaddress>/<yyyy>-<mm>/arctxt/<n>
where

    * <arc_path> is the value of arc_path wwsympa parameter
    * listaddress is the qualified email address of the list
    * <yyyy> is the year number
    * <mm> is the month number
    * n is the serial number (each message stored in a file named 1, 2, ...) 

This version is very useful where archives move or when archive formats change, etc. 

==== How to move archives from a Sympa server to another one? ====

You just need to move <arc_path>/<listadress>/<yyyy>-<mm>/arctxt/* You don’t have to move HTML files. It’s better to rebuild archives (that can be done from the listmaster interface).

Now, imagine you want to move an archive to a none empty archive. You can’t do it in the same way because you will probably overwrite some existing messages when copying message from the remote archive. You will have to reorganize file numbering according to message date. No scripts are provided for this.

==== How can I initialize Sympa archive with message from my previous list server? =====
You can install any old messages into WWSympa archive if you have a bundle of SMTP formated messages. This can be done using for example eudora folder, majordomo archives as message sources.

The first step is to store all messages according to the organization described. You don’t have to take care with HTML version.

The second step is to use Sympa admin in the web interface and rebuilt this archive. archived.pl daemon will produce all necessary HTML file.

    * From Sympa to WWSympa. If you are doing this using a RFC934 digest used by Sympa for email mode archives, you can perform the first step running arc2webarc.pl which is part of Sympa distribution.
    * It’s probably easy to adapt arc2webarc.pl.

Check available scripts from [[migration_from_mailman_listserv_or_lyris]].

==== unexpected token (END) [% END %] ====

This problem concerns only some Sympa 5.3a.x and 5.3b.x versions of Sympa.

The happens whenever an archived message includes non-encoded 8bit characters in its Subject header field. These messages are incorrect MIME messages, generated by some email clients (including Eudora); therefore we’ve got to cope with them… The mix of UTF-8 and ISO characters disturbs Sympa’s template parser.

You should move to a more recent version of Sympa; starting with version 5.3b.3, Sympa generalizes UTF-8 and prevents such errors.
